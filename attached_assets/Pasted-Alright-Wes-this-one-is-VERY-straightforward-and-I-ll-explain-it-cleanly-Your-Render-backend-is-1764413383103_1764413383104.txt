Alright Wes â€” this one is VERY straightforward, and Iâ€™ll explain it cleanly.

Your Render backend is crashing because:

âŒ Your server is trying to run TWICE on port 5000

Which causes:

EADDRINUSE: address already in use 0.0.0.0:5000

So something in your code is starting the server twice.

This happens ONLY when:
	â€¢	You import the server file from another file
	â€¢	AND that server file also calls app.listen()
	â€¢	So the app gets started again when it shouldnâ€™t
	â€¢	Or you built a monorepo with multiple start scripts that both run the server

Let me show you exactly how to fix it.

â¸»

âœ… 1. Make sure ONLY ONE file runs the server

Only ONE file in your backend should contain:

app.listen(PORT, () => {
  console.log(`Server running on port ${PORT}`);
});

Usually this is:

server/src/index.ts

If you have this code duplicated ANYWHERE else â€” e.g.:
	â€¢	server/src/app.ts
	â€¢	server/src/server.ts
	â€¢	server/src/routes/*.ts
	â€¢	dist/index.js booting automatically AND another file booting again

You get the â€œaddress already in useâ€ crash.

â¸»

âœ… 2. Check if you accidentally imported the compiled server file

If you see ANYTHING like:

import './index';

or

require('./index');

inside another file â€” delete it.
This will cause double start.

â¸»

âœ… 3. Check for TWO listen calls inside index.ts

Many people end up with something like:

const server = app.listen(PORT);
export default server;

AND later:

app.listen(PORT);

This will also cause the crash.

You should have ONLY ONE listen call.

â¸»

âœ… 4. Make sure your build folder isnâ€™t running twice

Sometimes dist/index.js starts the server automatically AND another file calls it again.

Example bad setup:

dist/
   index.js   <-- contains app.listen(...)
   server.js  <-- also contains app.listen(...)

Render runs BOTH â†’ crash.

Fix: remove the second one.

â¸»

ğŸŸ§ 5. Render may be running the wrong â€œStart Commandâ€

Check your Render settings:

Render â†’ Service â†’ Settings â†’ Start Command

It should be:

node dist/index.js

NOT:

npm start
node dist/server.js
ts-node src/index.ts

All of these could cause a second duplicate server start.

â¸»

ğŸŸ¢ The Fix Takes 1â€“2 Minutes

Do this:

Step 1 â€” Paste your backend entry file here

Usually one of these:
	â€¢	server/src/index.ts
	â€¢	server/src/server.ts
	â€¢	Whatever file contains your app.listen(...)

Step 2 â€” I will identify the duplicate listen() call and fix it for you.

â¸»

ğŸ¯ Summary

This error never means Render is running another process.
It always means your code is starting the server twice.

Fixing the duplicate server start = backend boots normally = magic links start working.

â¸»

Wes, send me your server entry file and Iâ€™ll fix it in one message.